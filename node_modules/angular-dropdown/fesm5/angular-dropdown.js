import { Directive, ElementRef, Inject, forwardRef, Host, HostListener, Attribute, Input, Output, ContentChild, Component, NgZone, NgModule } from '@angular/core';
import { Observable, BehaviorSubject, of, Subject } from 'rxjs';
import { skip, first, filter, takeUntil } from 'rxjs/operators';
import { DOCUMENT, CommonModule } from '@angular/common';
import { NgWormholeModule } from 'ng-wormhole';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AngularDropdownControlDirective = /** @class */ (function () {
    function AngularDropdownControlDirective(dropdown, element) {
        this.dropdown = dropdown;
        this.element = element;
    }
    /**
     * @param {?} e
     * @return {?}
     */
    AngularDropdownControlDirective.prototype.onClick = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        e.stopPropagation();
        if (!this.dropdown.disabled) {
            this.dropdown.toggle();
        }
    };
    AngularDropdownControlDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[ng-dropdown-control],[ngDropdownControl]',
                    host: {
                        '[attr.aria-haspopup]': 'true',
                        '[attr.aria-controls]': 'dropdown.id',
                        '[attr.aria-expanded]': 'dropdown.isOpen',
                        '[class.ng-dropdown-control]': 'true',
                        '[class.active]': 'dropdown.isOpen'
                    }
                },] }
    ];
    AngularDropdownControlDirective.ctorParameters = function () { return [
        { type: AngularDropdownDirective, decorators: [{ type: Host }, { type: Inject, args: [forwardRef(function () { return AngularDropdownDirective; }),] }] },
        { type: ElementRef }
    ]; };
    AngularDropdownControlDirective.propDecorators = {
        onClick: [{ type: HostListener, args: ['click', ['$event'],] }]
    };
    return AngularDropdownControlDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @param {?} element
 * @param {?} callback
 * @return {?}
 */
function waitForAnimation(element, callback) {
    requestAnimationFrame(function () {
        /** @type {?} */
        var computedStyle = window.getComputedStyle(element);
        if (computedStyle.animationName !== 'none' &&
            computedStyle.animationPlayState === 'running') {
            return once(element, 'animationend', callback);
        }
        callback();
    });
}
/**
 * @param {?} element
 * @param {?} eventName
 * @param {?} listener
 * @return {?}
 */
function once(element, eventName, listener) {
    element.addEventListener(eventName, function listenOnce(e) {
        element.removeEventListener(eventName, listenOnce);
        return listener(e);
    });
}
/** @type {?} */
var closest = ((/** @type {?} */ (window))).Element && Element.prototype.closest ?
    function (el, s) { return el.closest(s); } :
    function closest(self, s) {
        /** @type {?} */
        var matches = (((/** @type {?} */ (self))).document || self.ownerDocument).querySelectorAll(s);
        /** @type {?} */
        var i;
        /** @type {?} */
        var el = self;
        do {
            i = matches.length;
            while (--i >= 0 && matches.item(i) !== el) { }
        } while ((i < 0) && (el = (/** @type {?} */ (el.parentElement))));
        return el;
    };
/**
 * @param {?} trigger
 * @param {?} dropdown
 * @param {?} __2
 * @return {?}
 */
function calculatePosition(trigger, dropdown, _a) {
    var horizontalPosition = _a.horizontalPosition, verticalPosition = _a.verticalPosition, matchTriggerWidth = _a.matchTriggerWidth, previousHorizontalPosition = _a.previousHorizontalPosition, previousVerticalPosition = _a.previousVerticalPosition;
    // Collect information about all the involved DOM elements
    /** @type {?} */
    var scroll = { left: window.pageXOffset, top: window.pageYOffset };
    var _b = trigger.getBoundingClientRect(), triggerLeft = _b.left, triggerTop = _b.top, triggerWidth = _b.width, triggerHeight = _b.height;
    var _c = dropdown.getBoundingClientRect(), dropdownHeight = _c.height, dropdownWidth = _c.width;
    /** @type {?} */
    var viewportWidth = window.innerWidth;
    /** @type {?} */
    var style = {};
    // Calculate drop down width
    dropdownWidth = matchTriggerWidth ? triggerWidth : dropdownWidth;
    if (matchTriggerWidth) {
        style.width = dropdownWidth;
    }
    // Calculate horizontal position
    /** @type {?} */
    var triggerLeftWithScroll = triggerLeft + scroll.left;
    if (horizontalPosition === 'auto') {
        // Calculate the number of visible horizontal pixels if we were to place the
        // dropdown on the left and right
        /** @type {?} */
        var leftVisible = Math.min(viewportWidth, triggerLeft + dropdownWidth) - Math.max(0, triggerLeft);
        /** @type {?} */
        var rightVisible = Math.min(viewportWidth, triggerLeft + triggerWidth) - Math.max(0, triggerLeft + triggerWidth - dropdownWidth);
        if (dropdownWidth > leftVisible && rightVisible > leftVisible) {
            // If the drop down won't fit left-aligned, and there is more space on the
            // right than on the left, then force right-aligned
            horizontalPosition = 'right';
        }
        else if (dropdownWidth > rightVisible && leftVisible > rightVisible) {
            // If the drop down won't fit right-aligned, and there is more space on
            // the left than on the right, then force left-aligned
            horizontalPosition = 'left';
        }
        else {
            // Keep same position as previous
            horizontalPosition = previousHorizontalPosition || 'left';
        }
    }
    if (horizontalPosition === 'right') {
        style.right = viewportWidth - (triggerLeftWithScroll + triggerWidth);
    }
    else if (horizontalPosition === 'center') {
        style.left = triggerLeftWithScroll + (triggerWidth - dropdownWidth) / 2;
    }
    else {
        style.left = triggerLeftWithScroll;
    }
    // Calculate vertical position
    /** @type {?} */
    var triggerTopWithScroll = triggerTop + scroll.top;
    if (verticalPosition === 'above') {
        style.top = triggerTopWithScroll - dropdownHeight;
    }
    else if (verticalPosition === 'below') {
        style.top = triggerTopWithScroll + triggerHeight;
    }
    else {
        /** @type {?} */
        var viewportBottom = scroll.top + self.window.innerHeight;
        /** @type {?} */
        var enoughRoomBelow = triggerTopWithScroll + triggerHeight + dropdownHeight < viewportBottom;
        /** @type {?} */
        var enoughRoomAbove = triggerTop > dropdownHeight;
        if (previousVerticalPosition === 'below' && !enoughRoomBelow && enoughRoomAbove) {
            verticalPosition = 'above';
        }
        else if (previousVerticalPosition === 'above' && !enoughRoomAbove && enoughRoomBelow) {
            verticalPosition = 'below';
        }
        else if (!previousVerticalPosition) {
            verticalPosition = enoughRoomBelow ? 'below' : 'above';
        }
        else {
            verticalPosition = previousVerticalPosition;
        }
        style.top = triggerTopWithScroll + (verticalPosition === 'below' ? triggerHeight : -dropdownHeight);
    }
    return { horizontalPosition: horizontalPosition, verticalPosition: verticalPosition, style: style };
}
/**
 * @param {?} trigger
 * @param {?} dropdown
 * @param {?} __2
 * @return {?}
 */
function calculateInPlacePosition(trigger, dropdown, _a) {
    var horizontalPosition = _a.horizontalPosition, verticalPosition = _a.verticalPosition;
    /** @type {?} */
    var dropdownRect;
    /** @type {?} */
    var positionData = {};
    if (horizontalPosition === 'auto') {
        /** @type {?} */
        var triggerRect = trigger.getBoundingClientRect();
        dropdownRect = dropdown.getBoundingClientRect();
        /** @type {?} */
        var viewportRight = window.pageXOffset + window.innerWidth;
        positionData.horizontalPosition = triggerRect.left + dropdownRect.width > viewportRight ? 'right' : 'left';
    }
    if (verticalPosition === 'above') {
        positionData.verticalPosition = verticalPosition;
        dropdownRect = dropdownRect || dropdown.getBoundingClientRect();
        positionData.style = { top: -dropdownRect.height };
    }
    return positionData;
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var id = 1;
/**
 * @return {?}
 */
function generateDropdownId() {
    return id++;
}
/** @type {?} */
var EmptyDropdownContentPosition = Object.freeze({
    vPosition: null,
    hPosition: null,
    top: null,
    left: null,
    bottom: null,
    right: null
});
var AngularDropdownDirective = /** @class */ (function () {
    function AngularDropdownDirective(document, id) {
        var _this = this;
        this.renderInPlace = false;
        this.control = null;
        this.previousVerticalPosition = null;
        this.previousHorizontalPosition = null;
        this.matchTriggerWidth = false;
        this._isOpen$ = new BehaviorSubject(false);
        this.isOpen$ = this._isOpen$.pipe(skip(1));
        this.position$ = new BehaviorSubject(EmptyDropdownContentPosition);
        this.calculatePosition = calculatePosition;
        this.calculateInPlacePosition = calculateInPlacePosition;
        this.disabled = false;
        this.beforeOpen = null;
        this.beforeClose = null;
        this.verticalPosition = 'auto';
        this.horizontalPosition = 'auto';
        this.onOpen = this.isOpen$.pipe(filter(function (open) { return open === true; }));
        this.onClose = this.isOpen$.pipe(filter(function (open) { return open === false; }));
        this.uniqueId = null;
        this.width = null;
        this.reposition = function () {
            if (!_this._isOpen$.getValue()) {
                return null;
            }
            /** @type {?} */
            var dropdownElement = _this.dropdownElement;
            if (!dropdownElement || !_this.triggerElement) {
                return null;
            }
            /** @type {?} */
            var calculatePosition$$1 = _this.renderInPlace
                ? _this.calculateInPlacePosition
                : _this.calculatePosition;
            /** @type {?} */
            var options = {
                horizontalPosition: _this.horizontalPosition,
                verticalPosition: _this.verticalPosition,
                matchTriggerWidth: _this.matchTriggerWidth,
                previousHorizontalPosition: _this.previousHorizontalPosition,
                previousVerticalPosition: _this.previousVerticalPosition
            };
            /** @type {?} */
            var positionData = calculatePosition$$1(_this.triggerElement, dropdownElement, options);
            return _this.applyReposition(_this.triggerElement, dropdownElement, positionData);
        };
        this.document = document;
        this.initializeId(id);
        this.createDefaultWormholeOutlet();
    }
    Object.defineProperty(AngularDropdownDirective.prototype, "dropdownId", {
        get: /**
         * @return {?}
         */
        function () {
            return "ng-dropdown-content-" + this.uniqueId;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AngularDropdownDirective.prototype, "triggerElement", {
        get: /**
         * @return {?}
         */
        function () {
            return (/** @type {?} */ (this.control)).element.nativeElement;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AngularDropdownDirective.prototype, "dropdownElement", {
        get: /**
         * @return {?}
         */
        function () {
            return (/** @type {?} */ (this.document.getElementById(this.dropdownId)));
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} __0
     * @return {?}
     */
    AngularDropdownDirective.prototype.ngOnChanges = /**
     * @param {?} __0
     * @return {?}
     */
    function (_a) {
        var disabled = _a.disabled;
        if (disabled &&
            disabled.firstChange === false &&
            disabled.currentValue === true &&
            disabled.previousValue !== true) {
            this.disable();
        }
    };
    /**
     * @return {?}
     */
    AngularDropdownDirective.prototype.open = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.disabled || this._isOpen$.getValue()) {
            return;
        }
        /** @type {?} */
        var open$ = of(true);
        if (this.beforeOpen) {
            /** @type {?} */
            var result = this.beforeOpen();
            open$ = result instanceof Observable ? result : of(result);
        }
        open$
            .pipe(first(), filter(function (open) { return open === true; }))
            .subscribe(function () { return _this._isOpen$.next(true); });
    };
    /**
     * @param {?=} skipFocus
     * @return {?}
     */
    AngularDropdownDirective.prototype.close = /**
     * @param {?=} skipFocus
     * @return {?}
     */
    function (skipFocus) {
        var _this = this;
        if (skipFocus === void 0) { skipFocus = false; }
        if (this.disabled || !this._isOpen$.getValue()) {
            return;
        }
        /** @type {?} */
        var close$ = of(true);
        if (this.beforeClose) {
            /** @type {?} */
            var result = this.beforeClose();
            close$ = result instanceof Observable ? result : of(result);
        }
        close$
            .pipe(first(), filter(function (close) { return close === true; }))
            .subscribe(function () {
            Object.assign(_this, {
                hPosition: null,
                vPosition: null,
                top: null,
                right: null,
                bottom: null,
                left: null,
                width: null,
                previousVerticalPosition: null,
                previousHorizontalPosition: null
            });
            _this._isOpen$.next(false);
            if (!skipFocus) {
                if (_this.triggerElement instanceof HTMLElement &&
                    _this.triggerElement.tabIndex > -1) {
                    _this.triggerElement.focus();
                }
            }
        });
    };
    /**
     * @return {?}
     */
    AngularDropdownDirective.prototype.toggle = /**
     * @return {?}
     */
    function () {
        if (this._isOpen$.getValue()) {
            this.close();
        }
        else {
            this.open();
        }
    };
    /**
     * @return {?}
     */
    AngularDropdownDirective.prototype.disable = /**
     * @return {?}
     */
    function () {
        this.disabled = true;
        this.close();
    };
    /**
     * @return {?}
     */
    AngularDropdownDirective.prototype.enable = /**
     * @return {?}
     */
    function () {
        this.disabled = false;
    };
    /**
     * @param {?} trigger
     * @param {?} dropdown
     * @param {?} positions
     * @return {?}
     */
    AngularDropdownDirective.prototype.applyReposition = /**
     * @param {?} trigger
     * @param {?} dropdown
     * @param {?} positions
     * @return {?}
     */
    function (trigger, dropdown, positions) {
        /** @type {?} */
        var changes = {
            hPosition: positions.horizontalPosition,
            vPosition: positions.verticalPosition
        };
        if (positions.style) {
            changes.top = positions.style.top + "px";
            // The component can be aligned from the right or from the left, but not from both.
            if (positions.style.left != null) {
                changes.left = positions.style.left + "px";
                changes.right = null;
            }
            else if (positions.style.right != null) {
                changes.right = positions.style.right + "px";
                changes.left = null;
            }
            if (positions.style.width != null) {
                changes.width = positions.style.width + "px";
            }
            if (this.position$.getValue().top == null) {
                // Bypass on the first reposition only to avoid flickering.
                Object.keys(positions.style).forEach(function (k) { return (dropdown.style[(/** @type {?} */ (k))] = positions.style[k]); });
            }
        }
        this.position$.next(changes);
        this.previousHorizontalPosition = positions.horizontalPosition;
        this.previousVerticalPosition = positions.verticalPosition;
        return changes;
    };
    /**
     * @param {?=} id
     * @return {?}
     */
    AngularDropdownDirective.prototype.initializeId = /**
     * @param {?=} id
     * @return {?}
     */
    function (id) {
        if (id) {
            this.id = this.uniqueId = id;
        }
        else {
            this.uniqueId = generateDropdownId();
            this.id = "ng-dropdown-" + this.uniqueId;
        }
    };
    /**
     * @return {?}
     */
    AngularDropdownDirective.prototype.createDefaultWormholeOutlet = /**
     * @return {?}
     */
    function () {
        if (!this.document.getElementById('ng-dropdown-outlet')) {
            /** @type {?} */
            var outlet = this.document.createElement('div');
            outlet.id = 'ng-dropdown-outlet';
            this.document.body.insertBefore(outlet, this.document.body.firstChild);
        }
    };
    AngularDropdownDirective.decorators = [
        { type: Directive, args: [{
                    selector: 'ng-dropdown,[ngDropdown],[ng-dropdown]',
                    host: {
                        '[class.render-in-place]': 'renderInPlace',
                        '[class.ng-dropdown]': 'true'
                    }
                },] }
    ];
    AngularDropdownDirective.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },
        { type: String, decorators: [{ type: Attribute, args: ['id',] }] }
    ]; };
    AngularDropdownDirective.propDecorators = {
        renderInPlace: [{ type: Input }],
        control: [{ type: ContentChild, args: [AngularDropdownControlDirective,] }],
        calculatePosition: [{ type: Input }],
        calculateInPlacePosition: [{ type: Input }],
        disabled: [{ type: Input }],
        beforeOpen: [{ type: Input }],
        beforeClose: [{ type: Input }],
        verticalPosition: [{ type: Input }],
        horizontalPosition: [{ type: Input }],
        onOpen: [{ type: Output, args: ['open',] }],
        onClose: [{ type: Output, args: ['close',] }],
        dropdownContent: [{ type: ContentChild, args: [forwardRef(function () { return AngularDropdownContentComponent; }),] }]
    };
    return AngularDropdownDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var MutationObserver = ((/** @type {?} */ (window))).MutationObserver;
var AngularDropdownContentComponent = /** @class */ (function () {
    function AngularDropdownContentComponent(dropdown, zone, document) {
        var _this = this;
        this.dropdown = dropdown;
        this.zone = zone;
        this.dropdownClass = '';
        this.overlay = false;
        this.hasMoved = false;
        this._animationClass = null;
        this.isTouchDevice = 'ontouchstart' in window;
        this.mutationObserver = null;
        this.destroy$ = new Subject();
        this.transitioningInClass = 'ng-dropdown-content--transitioning-in';
        this.transitionedInClass = 'ng-dropdown-content--transitioned-in';
        this.transitioningOutClass = 'ng-dropdown-content--transitioning-out';
        this.shouldOpen = false;
        this.repositionInZone = function () {
            return _this.zone.run(function () { return _this.dropdown.reposition(); });
        };
        this.handleRootMouseDown = function (e) {
            if (_this.hasMoved ||
                _this.dropdownElement.contains((/** @type {?} */ (e.target))) ||
                (_this.triggerElement &&
                    _this.triggerElement.contains((/** @type {?} */ (e.target))))) {
                _this.hasMoved = false;
                return;
            }
            /** @type {?} */
            var closestDropdown = closest((/** @type {?} */ (e.target)), 'ng-dropdown-content');
            if (closestDropdown) {
                /** @type {?} */
                var trigger = _this.document.querySelector("[aria-controls=" + closestDropdown.getAttribute('id') + "]");
                /** @type {?} */
                var parentDropdown = closest((/** @type {?} */ (trigger)), 'ng-dropdown-content');
                if (parentDropdown &&
                    parentDropdown.getAttribute('id') === _this.dropdown.dropdownId) {
                    _this.hasMoved = false;
                    return;
                }
            }
            _this.dropdown.close(true);
        };
        this.touchStartHandler = function (e) {
            _this.document.body.addEventListener('touchmove', _this.touchMoveHandler, true);
        };
        this.touchMoveHandler = function (e) {
            _this.hasMoved = true;
            _this.document.body.removeEventListener('touchmove', _this.touchMoveHandler, true);
        };
        this.document = document;
    }
    Object.defineProperty(AngularDropdownContentComponent.prototype, "dropdownElement", {
        get: /**
         * @return {?}
         */
        function () {
            return this.dropdown.dropdownElement;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.dropdown.onOpen
            .pipe(takeUntil(this.destroy$))
            .subscribe(function () { return (_this.shouldOpen = true); });
        this.dropdown.onClose
            .pipe(takeUntil(this.destroy$))
            .subscribe(function () { return _this.close(); });
    };
    Object.defineProperty(AngularDropdownContentComponent.prototype, "animationClass", {
        get: /**
         * @return {?}
         */
        function () {
            return this._animationClass;
        },
        set: /**
         * @param {?} className
         * @return {?}
         */
        function (className) {
            if (this._animationClass && className !== this._animationClass) {
                this.dropdownElement.classList.remove(this._animationClass);
            }
            else if (className) {
                this.dropdownElement.classList.add(className);
            }
            this._animationClass = className;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AngularDropdownContentComponent.prototype, "triggerElement", {
        get: /**
         * @return {?}
         */
        function () {
            return this.dropdown.triggerElement;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.ngAfterViewChecked = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.shouldOpen) {
            this.animationClass = this.transitioningInClass;
            requestAnimationFrame(function () { return _this.open(); });
            this.shouldOpen = false;
        }
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.destroy$.next();
        this.teardownEvents();
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.open = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.document.body.addEventListener('mousedown', this.handleRootMouseDown, true);
        if (this.isTouchDevice) {
            this.document.body.addEventListener('touchstart', this.touchStartHandler, true);
            this.document.body.addEventListener('touchend', this.handleRootMouseDown, true);
        }
        /** @type {?} */
        var changes = this.dropdown.reposition();
        if (!this.dropdown.renderInPlace) {
            this.addGlobalEvents();
            this.startObservingDomMutations();
        }
        else if (changes !== null && changes.vPosition === 'above') {
            this.startObservingDomMutations();
        }
        requestAnimationFrame(function () { return _this.animateIn(); });
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.close = /**
     * @return {?}
     */
    function () {
        this.teardownEvents();
        this.animateOut();
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.animateIn = /**
     * @return {?}
     */
    function () {
        var _this = this;
        waitForAnimation(this.dropdownElement, function () {
            _this.animationClass = _this.transitionedInClass;
        });
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.animateOut = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var parentElement = this.dropdown.renderInPlace
            ? (/** @type {?} */ (this.dropdownElement.parentElement)).parentElement
            : this.dropdownElement.parentElement;
        /** @type {?} */
        var clone = (/** @type {?} */ (this.dropdownElement.cloneNode(true)));
        clone.id = this.dropdownElement.id + "--clone";
        clone.classList.remove(this.transitionedInClass);
        clone.classList.remove(this.transitioningInClass);
        clone.classList.add(this.transitioningOutClass);
        (/** @type {?} */ (parentElement)).appendChild(clone);
        this.animationClass = this.transitioningInClass;
        waitForAnimation(clone, function () { return (/** @type {?} */ (parentElement)).removeChild(clone); });
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.startObservingDomMutations = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (MutationObserver) {
            this.mutationObserver = new MutationObserver(function (mutations) {
                if (mutations[0].addedNodes.length ||
                    mutations[0].removedNodes.length) {
                    _this.repositionInZone();
                }
            });
            (/** @type {?} */ (this.mutationObserver)).observe(this.dropdownElement, {
                childList: true,
                subtree: true
            });
        }
        else {
            this.dropdownElement.addEventListener('DOMNodeInserted', this.repositionInZone, false);
            this.dropdownElement.addEventListener('DOMNodeRemoved', this.repositionInZone, false);
        }
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.stopObservingDomMutations = /**
     * @return {?}
     */
    function () {
        if (MutationObserver) {
            if (this.mutationObserver) {
                this.mutationObserver.disconnect();
                this.mutationObserver = null;
            }
        }
        else {
            if (this.dropdownElement) {
                this.dropdownElement.removeEventListener('DOMNodeInserted', this.repositionInZone);
                this.dropdownElement.removeEventListener('DOMNodeRemoved', this.repositionInZone);
            }
        }
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.addGlobalEvents = /**
     * @return {?}
     */
    function () {
        window.addEventListener('scroll', this.repositionInZone);
        window.addEventListener('resize', this.repositionInZone);
        window.addEventListener('orientationchange', this.repositionInZone);
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.removeGlobalEvents = /**
     * @return {?}
     */
    function () {
        window.removeEventListener('scroll', this.repositionInZone);
        window.removeEventListener('resize', this.repositionInZone);
        window.removeEventListener('orientationchange', this.repositionInZone);
    };
    /**
     * @return {?}
     */
    AngularDropdownContentComponent.prototype.teardownEvents = /**
     * @return {?}
     */
    function () {
        this.removeGlobalEvents();
        this.stopObservingDomMutations();
        this.document.body.removeEventListener('mousedown', this.handleRootMouseDown, true);
        if (this.isTouchDevice) {
            this.document.body.removeEventListener('touchstart', this.touchStartHandler, true);
            this.document.body.removeEventListener('touchend', this.handleRootMouseDown, true);
        }
    };
    AngularDropdownContentComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ng-dropdown-content,[ng-dropdown-content],[ngDropdownContent]',
                    template: "<ng-container *ngIf=\"dropdown.isOpen$ | async as isOpen\">\n  <ng-container *ngWormhole=\"'#ng-dropdown-outlet'; renderInPlace: dropdown.renderInPlace\">\n    <div *ngIf=\"overlay && isOpen\" class=\"ng-dropdown-overlay\"></div>\n    <div [id]=\"dropdown.dropdownId\"\n        class=\"ng-dropdown-content {{dropdownClass}}\"\n        [style.top]=\"(dropdown.position$ | async).top\"\n        [style.right]=\"(dropdown.position$ | async).right\"\n        [style.bottom]=\"(dropdown.position$ | async).bottom\"\n        [style.left]=\"(dropdown.position$ | async).left\"\n        [class.render-in-place]=\"dropdown.renderInPlace\"\n        [class.ng-dropdown-content--above]=\"(dropdown.position$ | async).vPosition === 'above'\"\n        [class.ng-dropdown-content--below]=\"(dropdown.position$ | async).vPosition === 'below'\"\n        [class.ng-dropdown-content--right]=\"(dropdown.position$ | async).hPosition === 'right'\"\n        [class.ng-dropdown-content--center]=\"(dropdown.position$ | async).hPosition === 'center'\"\n        [class.ng-dropdown-content--left]=\"(dropdown.position$ | async).hPosition === 'left'\">\n      <ng-content></ng-content>\n    </div>\n  </ng-container>\n  <div *ngIf=\"!isOpen\" [id]=\"dropdown.dropdownId\" class=\"ng-dropdown-placeholder\"></div>\n</ng-container>\n",
                    host: {
                        '[class.render-in-place]': 'dropdown.renderInPlace'
                    },
                    styles: [":host{display:none}:host.render-in-place{display:block;position:absolute}"]
                }] }
    ];
    AngularDropdownContentComponent.ctorParameters = function () { return [
        { type: AngularDropdownDirective, decorators: [{ type: Host }, { type: Inject, args: [forwardRef(function () { return AngularDropdownDirective; }),] }] },
        { type: NgZone },
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
    ]; };
    AngularDropdownContentComponent.propDecorators = {
        dropdownClass: [{ type: Input }],
        overlay: [{ type: Input }],
        transitioningInClass: [{ type: Input }],
        transitionedInClass: [{ type: Input }],
        transitioningOutClass: [{ type: Input }]
    };
    return AngularDropdownContentComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var AngularDropdownModule = /** @class */ (function () {
    function AngularDropdownModule() {
    }
    AngularDropdownModule.decorators = [
        { type: NgModule, args: [{
                    imports: [CommonModule, NgWormholeModule],
                    declarations: [
                        AngularDropdownDirective,
                        AngularDropdownControlDirective,
                        AngularDropdownContentComponent
                    ],
                    exports: [
                        AngularDropdownDirective,
                        AngularDropdownControlDirective,
                        AngularDropdownContentComponent
                    ]
                },] }
    ];
    return AngularDropdownModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { AngularDropdownContentComponent, AngularDropdownControlDirective, AngularDropdownDirective, AngularDropdownModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1kcm9wZG93bi5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vYW5ndWxhci1kcm9wZG93bi9saWIvYW5ndWxhci1kcm9wZG93bi1jb250cm9sLmRpcmVjdGl2ZS50cyIsIm5nOi8vYW5ndWxhci1kcm9wZG93bi9saWIvdXRpbHMudHMiLCJuZzovL2FuZ3VsYXItZHJvcGRvd24vbGliL2FuZ3VsYXItZHJvcGRvd24uZGlyZWN0aXZlLnRzIiwibmc6Ly9hbmd1bGFyLWRyb3Bkb3duL2xpYi9hbmd1bGFyLWRyb3Bkb3duLWNvbnRlbnQuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyLWRyb3Bkb3duL2xpYi9hbmd1bGFyLWRyb3Bkb3duLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBEaXJlY3RpdmUsXG4gIEVsZW1lbnRSZWYsXG4gIEluamVjdCxcbiAgZm9yd2FyZFJlZixcbiAgSW5wdXQsXG4gIEhvc3QsXG4gIEhvc3RMaXN0ZW5lclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgQW5ndWxhckRyb3Bkb3duRGlyZWN0aXZlIH1cbiAgZnJvbSAnLi9hbmd1bGFyLWRyb3Bkb3duLmRpcmVjdGl2ZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tuZy1kcm9wZG93bi1jb250cm9sXSxbbmdEcm9wZG93bkNvbnRyb2xdJyxcbiAgaG9zdDoge1xuICAgICdbYXR0ci5hcmlhLWhhc3BvcHVwXSc6ICd0cnVlJyxcbiAgICAnW2F0dHIuYXJpYS1jb250cm9sc10nOiAnZHJvcGRvd24uaWQnLFxuICAgICdbYXR0ci5hcmlhLWV4cGFuZGVkXSc6ICdkcm9wZG93bi5pc09wZW4nLFxuICAgICdbY2xhc3MubmctZHJvcGRvd24tY29udHJvbF0nOiAndHJ1ZScsXG4gICAgJ1tjbGFzcy5hY3RpdmVdJzogJ2Ryb3Bkb3duLmlzT3BlbidcbiAgfVxufSlcbmV4cG9ydCBjbGFzcyBBbmd1bGFyRHJvcGRvd25Db250cm9sRGlyZWN0aXZlIHtcbiAgQEhvc3RMaXN0ZW5lcignY2xpY2snLCBbICckZXZlbnQnIF0pXG4gIG9uQ2xpY2soZTogRXZlbnQpOiB2b2lkIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKCF0aGlzLmRyb3Bkb3duLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLmRyb3Bkb3duLnRvZ2dsZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgQEhvc3QoKVxuICAgICAgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IEFuZ3VsYXJEcm9wZG93bkRpcmVjdGl2ZSkpXG4gICAgICBwdWJsaWMgZHJvcGRvd246IEFuZ3VsYXJEcm9wZG93bkRpcmVjdGl2ZSxcbiAgICAgIHB1YmxpYyBlbGVtZW50OiBFbGVtZW50UmVmKSB7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yQW5pbWF0aW9uKGVsZW1lbnQ6IEVsZW1lbnQsIGNhbGxiYWNrOiAoZT86IEV2ZW50KSA9PiBhbnkpOiB2b2lkIHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBsZXQgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gICAgaWYgKGNvbXB1dGVkU3R5bGUuYW5pbWF0aW9uTmFtZSAhPT0gJ25vbmUnICYmXG4gICAgICAgIGNvbXB1dGVkU3R5bGUuYW5pbWF0aW9uUGxheVN0YXRlID09PSAncnVubmluZycpIHtcbiAgICAgIHJldHVybiBvbmNlKGVsZW1lbnQsICdhbmltYXRpb25lbmQnLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZWxlbWVudDogTm9kZSwgZXZlbnROYW1lOiBzdHJpbmcsIGxpc3RlbmVyOiAoZTogRXZlbnQpID0+IGFueSk6IHZvaWQge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jdGlvbiBsaXN0ZW5PbmNlKGUpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5PbmNlKTtcblxuICAgIHJldHVybiBsaXN0ZW5lcihlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBjb25zdCBjbG9zZXN0OiAoZWxlbWVudDogRWxlbWVudCwgc2VsZWN0b3I6IHN0cmluZykgPT4gRWxlbWVudCB8IG51bGxcbiAgPSAod2luZG93IGFzIGFueSkuRWxlbWVudCAmJiBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0ID9cbiAgICAoZWwsIHMpID0+IGVsLmNsb3Nlc3QocykgOlxuICAgIGZ1bmN0aW9uIGNsb3Nlc3Qoc2VsZjogRWxlbWVudCwgczogc3RyaW5nKSB7XG4gICAgICBsZXQgbWF0Y2hlcyA9ICgoc2VsZiBhcyBhbnkpLmRvY3VtZW50IHx8IHNlbGYub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKSxcbiAgICAgICAgaSxcbiAgICAgIGVsID0gc2VsZjtcbiAgICAgIGRvIHtcbiAgICAgICAgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoLS1pID49IDAgJiYgbWF0Y2hlcy5pdGVtKGkpICE9PSBlbCkge307XG4gICAgICB9IHdoaWxlICgoaSA8IDApICYmIChlbCA9IGVsLnBhcmVudEVsZW1lbnQhKSk7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVBvc2l0aW9uKFxuICB0cmlnZ2VyOiBFbGVtZW50LFxuICBkcm9wZG93bjogRWxlbWVudCxcbiAgeyBob3Jpem9udGFsUG9zaXRpb24sIHZlcnRpY2FsUG9zaXRpb24sIG1hdGNoVHJpZ2dlcldpZHRoLCBwcmV2aW91c0hvcml6b250YWxQb3NpdGlvbiwgcHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uIH06IGFueSk6IGFueSB7XG4gIC8vIENvbGxlY3QgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHRoZSBpbnZvbHZlZCBET00gZWxlbWVudHNcbiAgbGV0IHNjcm9sbCA9IHsgbGVmdDogd2luZG93LnBhZ2VYT2Zmc2V0LCB0b3A6IHdpbmRvdy5wYWdlWU9mZnNldCB9O1xuICBsZXQge1xuICAgIGxlZnQ6IHRyaWdnZXJMZWZ0LFxuICAgIHRvcDogdHJpZ2dlclRvcCxcbiAgICB3aWR0aDogdHJpZ2dlcldpZHRoLFxuICAgIGhlaWdodDogdHJpZ2dlckhlaWdodFxuICB9ID0gdHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgbGV0IHtcbiAgICBoZWlnaHQ6IGRyb3Bkb3duSGVpZ2h0LFxuICAgIHdpZHRoOiBkcm9wZG93bldpZHRoXG4gIH0gPSBkcm9wZG93bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgbGV0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgbGV0IHN0eWxlOiBhbnkgPSB7fTtcblxuICAvLyBDYWxjdWxhdGUgZHJvcCBkb3duIHdpZHRoXG4gIGRyb3Bkb3duV2lkdGggPSBtYXRjaFRyaWdnZXJXaWR0aCA/IHRyaWdnZXJXaWR0aCA6IGRyb3Bkb3duV2lkdGg7XG4gIGlmIChtYXRjaFRyaWdnZXJXaWR0aCkge1xuICAgIHN0eWxlLndpZHRoID0gZHJvcGRvd25XaWR0aDtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBob3Jpem9udGFsIHBvc2l0aW9uXG4gIGxldCB0cmlnZ2VyTGVmdFdpdGhTY3JvbGwgPSB0cmlnZ2VyTGVmdCArIHNjcm9sbC5sZWZ0O1xuICBpZiAoaG9yaXpvbnRhbFBvc2l0aW9uID09PSAnYXV0bycpIHtcbiAgICAvLyBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiB2aXNpYmxlIGhvcml6b250YWwgcGl4ZWxzIGlmIHdlIHdlcmUgdG8gcGxhY2UgdGhlXG4gICAgLy8gZHJvcGRvd24gb24gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gICAgbGV0IGxlZnRWaXNpYmxlID0gTWF0aC5taW4odmlld3BvcnRXaWR0aCwgdHJpZ2dlckxlZnQgKyBkcm9wZG93bldpZHRoKSAtIE1hdGgubWF4KDAsIHRyaWdnZXJMZWZ0KTtcbiAgICBsZXQgcmlnaHRWaXNpYmxlID0gTWF0aC5taW4odmlld3BvcnRXaWR0aCwgdHJpZ2dlckxlZnQgKyB0cmlnZ2VyV2lkdGgpIC0gTWF0aC5tYXgoMCwgdHJpZ2dlckxlZnQgKyB0cmlnZ2VyV2lkdGggLSBkcm9wZG93bldpZHRoKTtcblxuICAgIGlmIChkcm9wZG93bldpZHRoID4gbGVmdFZpc2libGUgJiYgcmlnaHRWaXNpYmxlID4gbGVmdFZpc2libGUpIHtcbiAgICAgIC8vIElmIHRoZSBkcm9wIGRvd24gd29uJ3QgZml0IGxlZnQtYWxpZ25lZCwgYW5kIHRoZXJlIGlzIG1vcmUgc3BhY2Ugb24gdGhlXG4gICAgICAvLyByaWdodCB0aGFuIG9uIHRoZSBsZWZ0LCB0aGVuIGZvcmNlIHJpZ2h0LWFsaWduZWRcbiAgICAgIGhvcml6b250YWxQb3NpdGlvbiA9ICdyaWdodCc7XG4gICAgfSBlbHNlIGlmIChkcm9wZG93bldpZHRoID4gcmlnaHRWaXNpYmxlICYmIGxlZnRWaXNpYmxlID4gcmlnaHRWaXNpYmxlKSB7XG4gICAgICAvLyBJZiB0aGUgZHJvcCBkb3duIHdvbid0IGZpdCByaWdodC1hbGlnbmVkLCBhbmQgdGhlcmUgaXMgbW9yZSBzcGFjZSBvblxuICAgICAgLy8gdGhlIGxlZnQgdGhhbiBvbiB0aGUgcmlnaHQsIHRoZW4gZm9yY2UgbGVmdC1hbGlnbmVkXG4gICAgICBob3Jpem9udGFsUG9zaXRpb24gPSAnbGVmdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEtlZXAgc2FtZSBwb3NpdGlvbiBhcyBwcmV2aW91c1xuICAgICAgaG9yaXpvbnRhbFBvc2l0aW9uID0gcHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb24gfHwgJ2xlZnQnO1xuICAgIH1cbiAgfVxuICBpZiAoaG9yaXpvbnRhbFBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgc3R5bGUucmlnaHQgPSB2aWV3cG9ydFdpZHRoIC0gKHRyaWdnZXJMZWZ0V2l0aFNjcm9sbCArIHRyaWdnZXJXaWR0aCk7XG4gIH0gZWxzZSBpZiAoaG9yaXpvbnRhbFBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgIHN0eWxlLmxlZnQgPSB0cmlnZ2VyTGVmdFdpdGhTY3JvbGwgKyAodHJpZ2dlcldpZHRoIC0gZHJvcGRvd25XaWR0aCkgLyAyO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLmxlZnQgPSB0cmlnZ2VyTGVmdFdpdGhTY3JvbGw7XG4gIH1cblxuICAvLyBDYWxjdWxhdGUgdmVydGljYWwgcG9zaXRpb25cbiAgbGV0IHRyaWdnZXJUb3BXaXRoU2Nyb2xsID0gdHJpZ2dlclRvcCArIHNjcm9sbC50b3A7XG4gIGlmICh2ZXJ0aWNhbFBvc2l0aW9uID09PSAnYWJvdmUnKSB7XG4gICAgc3R5bGUudG9wID0gdHJpZ2dlclRvcFdpdGhTY3JvbGwgLSBkcm9wZG93bkhlaWdodDtcbiAgfSBlbHNlIGlmICh2ZXJ0aWNhbFBvc2l0aW9uID09PSAnYmVsb3cnKSB7XG4gICAgc3R5bGUudG9wID0gdHJpZ2dlclRvcFdpdGhTY3JvbGwgKyB0cmlnZ2VySGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGxldCB2aWV3cG9ydEJvdHRvbSA9IHNjcm9sbC50b3AgKyBzZWxmLndpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgZW5vdWdoUm9vbUJlbG93ID0gdHJpZ2dlclRvcFdpdGhTY3JvbGwgKyB0cmlnZ2VySGVpZ2h0ICsgZHJvcGRvd25IZWlnaHQgPCB2aWV3cG9ydEJvdHRvbTtcbiAgICBsZXQgZW5vdWdoUm9vbUFib3ZlID0gdHJpZ2dlclRvcCA+IGRyb3Bkb3duSGVpZ2h0O1xuXG4gICAgaWYgKHByZXZpb3VzVmVydGljYWxQb3NpdGlvbiA9PT0gJ2JlbG93JyAmJiAhZW5vdWdoUm9vbUJlbG93ICYmIGVub3VnaFJvb21BYm92ZSkge1xuICAgICAgdmVydGljYWxQb3NpdGlvbiA9ICdhYm92ZSc7XG4gICAgfSBlbHNlIGlmIChwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb24gPT09ICdhYm92ZScgJiYgIWVub3VnaFJvb21BYm92ZSAmJiBlbm91Z2hSb29tQmVsb3cpIHtcbiAgICAgIHZlcnRpY2FsUG9zaXRpb24gPSAnYmVsb3cnO1xuICAgIH0gZWxzZSBpZiAoIXByZXZpb3VzVmVydGljYWxQb3NpdGlvbikge1xuICAgICAgdmVydGljYWxQb3NpdGlvbiA9IGVub3VnaFJvb21CZWxvdyA/ICdiZWxvdycgOiAnYWJvdmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ZXJ0aWNhbFBvc2l0aW9uID0gcHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uO1xuICAgIH1cbiAgICBzdHlsZS50b3AgPSB0cmlnZ2VyVG9wV2l0aFNjcm9sbCArICh2ZXJ0aWNhbFBvc2l0aW9uID09PSAnYmVsb3cnID8gdHJpZ2dlckhlaWdodCA6IC1kcm9wZG93bkhlaWdodCk7XG4gIH1cblxuICByZXR1cm4geyBob3Jpem9udGFsUG9zaXRpb24sIHZlcnRpY2FsUG9zaXRpb24sIHN0eWxlIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVJblBsYWNlUG9zaXRpb24oXG4gICAgdHJpZ2dlcjogRWxlbWVudCxcbiAgICBkcm9wZG93bjogRWxlbWVudCxcbiAgICB7IGhvcml6b250YWxQb3NpdGlvbiwgdmVydGljYWxQb3NpdGlvbiB9OiBhbnkpIHtcbiAgbGV0IGRyb3Bkb3duUmVjdDtcbiAgbGV0IHBvc2l0aW9uRGF0YTogYW55ID0ge307XG5cbiAgaWYgKGhvcml6b250YWxQb3NpdGlvbiA9PT0gJ2F1dG8nKSB7XG4gICAgbGV0IHRyaWdnZXJSZWN0ID0gdHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBkcm9wZG93blJlY3QgPSBkcm9wZG93bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgdmlld3BvcnRSaWdodCA9IHdpbmRvdy5wYWdlWE9mZnNldCArIHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHBvc2l0aW9uRGF0YS5ob3Jpem9udGFsUG9zaXRpb24gPSB0cmlnZ2VyUmVjdC5sZWZ0ICsgZHJvcGRvd25SZWN0LndpZHRoID4gdmlld3BvcnRSaWdodCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gIH1cbiAgaWYgKHZlcnRpY2FsUG9zaXRpb24gPT09ICdhYm92ZScpIHtcbiAgICBwb3NpdGlvbkRhdGEudmVydGljYWxQb3NpdGlvbiA9IHZlcnRpY2FsUG9zaXRpb247XG4gICAgZHJvcGRvd25SZWN0ID0gZHJvcGRvd25SZWN0IHx8IGRyb3Bkb3duLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHBvc2l0aW9uRGF0YS5zdHlsZSA9IHsgdG9wOiAtZHJvcGRvd25SZWN0LmhlaWdodCB9O1xuICB9XG4gIHJldHVybiBwb3NpdGlvbkRhdGE7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlLCBCZWhhdmlvclN1YmplY3QsIG9mIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBza2lwLCBmaXJzdCwgZmlsdGVyIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQge1xuICBDb21wb25lbnQsXG4gIERpcmVjdGl2ZSxcbiAgQXR0cmlidXRlLFxuICBJbmplY3QsXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIEVsZW1lbnRSZWYsXG4gIEFmdGVyVmlld0luaXQsXG4gIE9uQ2hhbmdlcyxcbiAgQ29udGVudENoaWxkLFxuICBTaW1wbGVDaGFuZ2VzLFxuICBFdmVudEVtaXR0ZXIsXG4gIFF1ZXJ5TGlzdCxcbiAgVmlld0NvbnRhaW5lclJlZixcbiAgZm9yd2FyZFJlZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQgeyBBbmd1bGFyRHJvcGRvd25Db250cm9sRGlyZWN0aXZlIH0gZnJvbSAnLi9hbmd1bGFyLWRyb3Bkb3duLWNvbnRyb2wuZGlyZWN0aXZlJztcbmltcG9ydCB7IEFuZ3VsYXJEcm9wZG93bkNvbnRlbnRDb21wb25lbnQgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24tY29udGVudC5jb21wb25lbnQnO1xuXG5pbXBvcnQgeyBjYWxjdWxhdGVQb3NpdGlvbiwgY2FsY3VsYXRlSW5QbGFjZVBvc2l0aW9uIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5ndWxhckRyb3Bkb3duUG9zaXRpb25DaGFuZ2VzIHtcbiAgdlBvc2l0aW9uOiAnYWJvdmUnIHwgJ2JlbG93JztcbiAgaFBvc2l0aW9uOiAncmlnaHQnIHwgJ2NlbnRlcicgfCAnbGVmdCc7XG59XG5cbmxldCBpZCA9IDE7XG5mdW5jdGlvbiBnZW5lcmF0ZURyb3Bkb3duSWQoKSB7XG4gIHJldHVybiBpZCsrO1xufVxuXG5leHBvcnQgdHlwZSBWZXJ0aWNhbFBvc2l0aW9uID0gJ2F1dG8nIHwgJ2Fib3ZlJyB8ICdiZWxvdyc7XG5leHBvcnQgdHlwZSBIb3Jpem9udGFsUG9zaXRpb24gPSAnYXV0bycgfCAncmlnaHQnIHwgJ2NlbnRlcicgfCAnbGVmdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25Db250ZW50UG9zaXRpb24ge1xuICByZWFkb25seSBoUG9zaXRpb246IEhvcml6b250YWxQb3NpdGlvbiB8IG51bGw7XG4gIHJlYWRvbmx5IHZQb3NpdGlvbjogVmVydGljYWxQb3NpdGlvbiB8IG51bGw7XG4gIHJlYWRvbmx5IHRvcDogc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgbGVmdDogc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgYm90dG9tOiBzdHJpbmcgfCBudWxsO1xuICByZWFkb25seSByaWdodDogc3RyaW5nIHwgbnVsbDtcbn1cblxuY29uc3QgRW1wdHlEcm9wZG93bkNvbnRlbnRQb3NpdGlvbiA9IE9iamVjdC5mcmVlemUoe1xuICB2UG9zaXRpb246IG51bGwsXG4gIGhQb3NpdGlvbjogbnVsbCxcbiAgdG9wOiBudWxsLFxuICBsZWZ0OiBudWxsLFxuICBib3R0b206IG51bGwsXG4gIHJpZ2h0OiBudWxsXG59KTtcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnbmctZHJvcGRvd24sW25nRHJvcGRvd25dLFtuZy1kcm9wZG93bl0nLFxuICBob3N0OiB7XG4gICAgJ1tjbGFzcy5yZW5kZXItaW4tcGxhY2VdJzogJ3JlbmRlckluUGxhY2UnLFxuICAgICdbY2xhc3MubmctZHJvcGRvd25dJzogJ3RydWUnXG4gIH1cbn0pXG5leHBvcnQgY2xhc3MgQW5ndWxhckRyb3Bkb3duRGlyZWN0aXZlIGltcGxlbWVudHMgT25DaGFuZ2VzIHtcbiAgaWQ/OiBzdHJpbmc7XG5cbiAgQElucHV0KClcbiAgcmVuZGVySW5QbGFjZSA9IGZhbHNlO1xuXG4gIEBDb250ZW50Q2hpbGQoQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSlcbiAgY29udHJvbDogQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSB8IG51bGwgPSBudWxsO1xuXG4gIHByZXZpb3VzVmVydGljYWxQb3NpdGlvbjogVmVydGljYWxQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBwcmV2aW91c0hvcml6b250YWxQb3NpdGlvbjogSG9yaXpvbnRhbFBvc2l0aW9uIHwgbnVsbCA9IG51bGw7XG4gIG1hdGNoVHJpZ2dlcldpZHRoID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBfaXNPcGVuJCA9IG5ldyBCZWhhdmlvclN1YmplY3QoZmFsc2UpO1xuICBpc09wZW4kID0gdGhpcy5faXNPcGVuJC5waXBlKHNraXAoMSkpO1xuXG4gIHBvc2l0aW9uJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8UmVhZG9ubHk8RHJvcGRvd25Db250ZW50UG9zaXRpb24+PihcbiAgICBFbXB0eURyb3Bkb3duQ29udGVudFBvc2l0aW9uXG4gICk7XG5cbiAgZ2V0IGRyb3Bkb3duSWQoKSB7XG4gICAgcmV0dXJuIGBuZy1kcm9wZG93bi1jb250ZW50LSR7dGhpcy51bmlxdWVJZH1gO1xuICB9XG5cbiAgQElucHV0KClcbiAgY2FsY3VsYXRlUG9zaXRpb246IEZ1bmN0aW9uID0gY2FsY3VsYXRlUG9zaXRpb247XG4gIEBJbnB1dCgpXG4gIGNhbGN1bGF0ZUluUGxhY2VQb3NpdGlvbjogRnVuY3Rpb24gPSBjYWxjdWxhdGVJblBsYWNlUG9zaXRpb247XG5cbiAgQElucHV0KClcbiAgZGlzYWJsZWQgPSBmYWxzZTtcblxuICBASW5wdXQoKVxuICBiZWZvcmVPcGVuOiAoKCkgPT4gYm9vbGVhbiB8IE9ic2VydmFibGU8Ym9vbGVhbj4pIHwgbnVsbCA9IG51bGw7XG5cbiAgQElucHV0KClcbiAgYmVmb3JlQ2xvc2U6ICgoKSA9PiBib29sZWFuIHwgT2JzZXJ2YWJsZTxib29sZWFuPikgfCBudWxsID0gbnVsbDtcblxuICBASW5wdXQoKVxuICBwdWJsaWMgdmVydGljYWxQb3NpdGlvbjogVmVydGljYWxQb3NpdGlvbiA9ICdhdXRvJztcbiAgQElucHV0KClcbiAgcHVibGljIGhvcml6b250YWxQb3NpdGlvbjogSG9yaXpvbnRhbFBvc2l0aW9uID0gJ2F1dG8nO1xuXG4gIEBPdXRwdXQoJ29wZW4nKVxuICBvbk9wZW4gPSB0aGlzLmlzT3BlbiQucGlwZShmaWx0ZXIob3BlbiA9PiBvcGVuID09PSB0cnVlKSk7XG5cbiAgQE91dHB1dCgnY2xvc2UnKVxuICBvbkNsb3NlID0gdGhpcy5pc09wZW4kLnBpcGUoZmlsdGVyKG9wZW4gPT4gb3BlbiA9PT0gZmFsc2UpKTtcblxuICBnZXQgdHJpZ2dlckVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmNvbnRyb2whLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgfVxuXG4gIGdldCBkcm9wZG93bkVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZHJvcGRvd25JZCkhO1xuICB9XG5cbiAgQENvbnRlbnRDaGlsZChmb3J3YXJkUmVmKCgpID0+IEFuZ3VsYXJEcm9wZG93bkNvbnRlbnRDb21wb25lbnQpKVxuICBwcml2YXRlIGRyb3Bkb3duQ29udGVudD86IEFuZ3VsYXJEcm9wZG93bkNvbnRlbnRDb21wb25lbnQ7XG5cbiAgcHJpdmF0ZSB1bmlxdWVJZDogbnVtYmVyIHwgc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgd2lkdGg6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGRvY3VtZW50OiBEb2N1bWVudDtcblxuICBjb25zdHJ1Y3RvcihASW5qZWN0KERPQ1VNRU5UKSBkb2N1bWVudDogYW55LCBAQXR0cmlidXRlKCdpZCcpIGlkPzogc3RyaW5nKSB7XG4gICAgdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgIHRoaXMuaW5pdGlhbGl6ZUlkKGlkKTtcbiAgICB0aGlzLmNyZWF0ZURlZmF1bHRXb3JtaG9sZU91dGxldCgpO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoeyBkaXNhYmxlZCB9OiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgZGlzYWJsZWQgJiZcbiAgICAgIGRpc2FibGVkLmZpcnN0Q2hhbmdlID09PSBmYWxzZSAmJlxuICAgICAgZGlzYWJsZWQuY3VycmVudFZhbHVlID09PSB0cnVlICYmXG4gICAgICBkaXNhYmxlZC5wcmV2aW91c1ZhbHVlICE9PSB0cnVlXG4gICAgKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9XG4gIH1cblxuICBvcGVuKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IHRoaXMuX2lzT3BlbiQuZ2V0VmFsdWUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBvcGVuJCA9IG9mKHRydWUpO1xuXG4gICAgaWYgKHRoaXMuYmVmb3JlT3Blbikge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5iZWZvcmVPcGVuKCk7XG4gICAgICBvcGVuJCA9IHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUgPyByZXN1bHQgOiBvZihyZXN1bHQpO1xuICAgIH1cblxuICAgIG9wZW4kXG4gICAgICAucGlwZShcbiAgICAgICAgZmlyc3QoKSxcbiAgICAgICAgZmlsdGVyKG9wZW4gPT4gb3BlbiA9PT0gdHJ1ZSlcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5faXNPcGVuJC5uZXh0KHRydWUpKTtcbiAgfVxuXG4gIGNsb3NlKHNraXBGb2N1cyA9IGZhbHNlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgIXRoaXMuX2lzT3BlbiQuZ2V0VmFsdWUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjbG9zZSQgPSBvZih0cnVlKTtcblxuICAgIGlmICh0aGlzLmJlZm9yZUNsb3NlKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJlZm9yZUNsb3NlKCk7XG4gICAgICBjbG9zZSQgPSByZXN1bHQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlID8gcmVzdWx0IDogb2YocmVzdWx0KTtcbiAgICB9XG5cbiAgICBjbG9zZSRcbiAgICAgIC5waXBlKFxuICAgICAgICBmaXJzdCgpLFxuICAgICAgICBmaWx0ZXIoY2xvc2UgPT4gY2xvc2UgPT09IHRydWUpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgICAgaFBvc2l0aW9uOiBudWxsLFxuICAgICAgICAgIHZQb3NpdGlvbjogbnVsbCxcbiAgICAgICAgICB0b3A6IG51bGwsXG4gICAgICAgICAgcmlnaHQ6IG51bGwsXG4gICAgICAgICAgYm90dG9tOiBudWxsLFxuICAgICAgICAgIGxlZnQ6IG51bGwsXG4gICAgICAgICAgd2lkdGg6IG51bGwsXG4gICAgICAgICAgcHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uOiBudWxsLFxuICAgICAgICAgIHByZXZpb3VzSG9yaXpvbnRhbFBvc2l0aW9uOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9pc09wZW4kLm5leHQoZmFsc2UpO1xuXG4gICAgICAgIGlmICghc2tpcEZvY3VzKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJFbGVtZW50LnRhYkluZGV4ID4gLTFcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9pc09wZW4kLmdldFZhbHVlKCkpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICBlbmFibGUoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgcmVwb3NpdGlvbiA9ICgpOiBBbmd1bGFyRHJvcGRvd25Qb3NpdGlvbkNoYW5nZXMgfCBudWxsID0+IHtcbiAgICBpZiAoIXRoaXMuX2lzT3BlbiQuZ2V0VmFsdWUoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbGV0IGRyb3Bkb3duRWxlbWVudCA9IHRoaXMuZHJvcGRvd25FbGVtZW50O1xuICAgIGlmICghZHJvcGRvd25FbGVtZW50IHx8ICF0aGlzLnRyaWdnZXJFbGVtZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgY2FsY3VsYXRlUG9zaXRpb24gPSB0aGlzLnJlbmRlckluUGxhY2VcbiAgICAgID8gdGhpcy5jYWxjdWxhdGVJblBsYWNlUG9zaXRpb25cbiAgICAgIDogdGhpcy5jYWxjdWxhdGVQb3NpdGlvbjtcblxuICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgaG9yaXpvbnRhbFBvc2l0aW9uOiB0aGlzLmhvcml6b250YWxQb3NpdGlvbixcbiAgICAgIHZlcnRpY2FsUG9zaXRpb246IHRoaXMudmVydGljYWxQb3NpdGlvbixcbiAgICAgIG1hdGNoVHJpZ2dlcldpZHRoOiB0aGlzLm1hdGNoVHJpZ2dlcldpZHRoLFxuICAgICAgcHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb246IHRoaXMucHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb24sXG4gICAgICBwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb246IHRoaXMucHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uXG4gICAgfTtcblxuICAgIGxldCBwb3NpdGlvbkRhdGEgPSBjYWxjdWxhdGVQb3NpdGlvbihcbiAgICAgIHRoaXMudHJpZ2dlckVsZW1lbnQsXG4gICAgICBkcm9wZG93bkVsZW1lbnQsXG4gICAgICBvcHRpb25zXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLmFwcGx5UmVwb3NpdGlvbihcbiAgICAgIHRoaXMudHJpZ2dlckVsZW1lbnQsXG4gICAgICBkcm9wZG93bkVsZW1lbnQsXG4gICAgICBwb3NpdGlvbkRhdGFcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgYXBwbHlSZXBvc2l0aW9uKFxuICAgIHRyaWdnZXI6IEVsZW1lbnQsXG4gICAgZHJvcGRvd246IEhUTUxFbGVtZW50LFxuICAgIHBvc2l0aW9uczogYW55XG4gICk6IEFuZ3VsYXJEcm9wZG93blBvc2l0aW9uQ2hhbmdlcyB7XG4gICAgbGV0IGNoYW5nZXM6IGFueSA9IHtcbiAgICAgIGhQb3NpdGlvbjogcG9zaXRpb25zLmhvcml6b250YWxQb3NpdGlvbixcbiAgICAgIHZQb3NpdGlvbjogcG9zaXRpb25zLnZlcnRpY2FsUG9zaXRpb25cbiAgICB9O1xuICAgIGlmIChwb3NpdGlvbnMuc3R5bGUpIHtcbiAgICAgIGNoYW5nZXMudG9wID0gYCR7cG9zaXRpb25zLnN0eWxlLnRvcH1weGA7XG4gICAgICAvLyBUaGUgY29tcG9uZW50IGNhbiBiZSBhbGlnbmVkIGZyb20gdGhlIHJpZ2h0IG9yIGZyb20gdGhlIGxlZnQsIGJ1dCBub3QgZnJvbSBib3RoLlxuICAgICAgaWYgKHBvc2l0aW9ucy5zdHlsZS5sZWZ0ICE9IG51bGwpIHtcbiAgICAgICAgY2hhbmdlcy5sZWZ0ID0gYCR7cG9zaXRpb25zLnN0eWxlLmxlZnR9cHhgO1xuICAgICAgICBjaGFuZ2VzLnJpZ2h0ID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAocG9zaXRpb25zLnN0eWxlLnJpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgY2hhbmdlcy5yaWdodCA9IGAke3Bvc2l0aW9ucy5zdHlsZS5yaWdodH1weGA7XG4gICAgICAgIGNoYW5nZXMubGVmdCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAocG9zaXRpb25zLnN0eWxlLndpZHRoICE9IG51bGwpIHtcbiAgICAgICAgY2hhbmdlcy53aWR0aCA9IGAke3Bvc2l0aW9ucy5zdHlsZS53aWR0aH1weGA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wb3NpdGlvbiQuZ2V0VmFsdWUoKS50b3AgPT0gbnVsbCkge1xuICAgICAgICAvLyBCeXBhc3Mgb24gdGhlIGZpcnN0IHJlcG9zaXRpb24gb25seSB0byBhdm9pZCBmbGlja2VyaW5nLlxuICAgICAgICBPYmplY3Qua2V5cyhwb3NpdGlvbnMuc3R5bGUpLmZvckVhY2goXG4gICAgICAgICAgayA9PiAoZHJvcGRvd24uc3R5bGVbayBhcyBhbnldID0gcG9zaXRpb25zLnN0eWxlW2tdKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucG9zaXRpb24kLm5leHQoY2hhbmdlcyk7XG5cbiAgICB0aGlzLnByZXZpb3VzSG9yaXpvbnRhbFBvc2l0aW9uID0gcG9zaXRpb25zLmhvcml6b250YWxQb3NpdGlvbjtcbiAgICB0aGlzLnByZXZpb3VzVmVydGljYWxQb3NpdGlvbiA9IHBvc2l0aW9ucy52ZXJ0aWNhbFBvc2l0aW9uO1xuXG4gICAgcmV0dXJuIGNoYW5nZXM7XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVJZChpZD86IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChpZCkge1xuICAgICAgdGhpcy5pZCA9IHRoaXMudW5pcXVlSWQgPSBpZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51bmlxdWVJZCA9IGdlbmVyYXRlRHJvcGRvd25JZCgpO1xuICAgICAgdGhpcy5pZCA9IGBuZy1kcm9wZG93bi0ke3RoaXMudW5pcXVlSWR9YDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZURlZmF1bHRXb3JtaG9sZU91dGxldCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25nLWRyb3Bkb3duLW91dGxldCcpKSB7XG4gICAgICBsZXQgb3V0bGV0ID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG91dGxldC5pZCA9ICduZy1kcm9wZG93bi1vdXRsZXQnO1xuICAgICAgdGhpcy5kb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShvdXRsZXQsIHRoaXMuZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHRha2VVbnRpbCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBJbnB1dCxcbiAgSG9zdCxcbiAgSW5qZWN0LFxuICBmb3J3YXJkUmVmLFxuICBBZnRlclZpZXdDaGVja2VkLFxuICBPbkluaXQsXG4gIE9uRGVzdHJveSxcbiAgTmdab25lXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IEFuZ3VsYXJEcm9wZG93bkRpcmVjdGl2ZSB9IGZyb20gJy4vYW5ndWxhci1kcm9wZG93bi5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgY2xvc2VzdCwgd2FpdEZvckFuaW1hdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuXG5jb25zdCBNdXRhdGlvbk9ic2VydmVyID0gKHdpbmRvdyBhcyBhbnkpLk11dGF0aW9uT2JzZXJ2ZXI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25nLWRyb3Bkb3duLWNvbnRlbnQsW25nLWRyb3Bkb3duLWNvbnRlbnRdLFtuZ0Ryb3Bkb3duQ29udGVudF0nLFxuICB0ZW1wbGF0ZVVybDogJy4vYW5ndWxhci1kcm9wZG93bi1jb250ZW50LmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vYW5ndWxhci1kcm9wZG93bi1jb250ZW50LmNvbXBvbmVudC5jc3MnXSxcbiAgaG9zdDoge1xuICAgICdbY2xhc3MucmVuZGVyLWluLXBsYWNlXSc6ICdkcm9wZG93bi5yZW5kZXJJblBsYWNlJ1xuICB9XG59KVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJEcm9wZG93bkNvbnRlbnRDb21wb25lbnRcbiAgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0NoZWNrZWQsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpXG4gIGRyb3Bkb3duQ2xhc3MgPSAnJztcblxuICBASW5wdXQoKVxuICBvdmVybGF5ID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBoYXNNb3ZlZCA9IGZhbHNlO1xuICBwcml2YXRlIF9hbmltYXRpb25DbGFzczogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaXNUb3VjaERldmljZTogYm9vbGVhbiA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdztcbiAgcHJpdmF0ZSBtdXRhdGlvbk9ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZGVzdHJveSQgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuXG4gIEBJbnB1dCgpXG4gIHRyYW5zaXRpb25pbmdJbkNsYXNzID0gJ25nLWRyb3Bkb3duLWNvbnRlbnQtLXRyYW5zaXRpb25pbmctaW4nO1xuICBASW5wdXQoKVxuICB0cmFuc2l0aW9uZWRJbkNsYXNzID0gJ25nLWRyb3Bkb3duLWNvbnRlbnQtLXRyYW5zaXRpb25lZC1pbic7XG4gIEBJbnB1dCgpXG4gIHRyYW5zaXRpb25pbmdPdXRDbGFzcyA9ICduZy1kcm9wZG93bi1jb250ZW50LS10cmFuc2l0aW9uaW5nLW91dCc7XG5cbiAgcHJpdmF0ZSBnZXQgZHJvcGRvd25FbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5kcm9wZG93bi5kcm9wZG93bkVsZW1lbnQ7XG4gIH1cblxuICBwcml2YXRlIHNob3VsZE9wZW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBkb2N1bWVudDogRG9jdW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgQEhvc3QoKVxuICAgIEBJbmplY3QoZm9yd2FyZFJlZigoKSA9PiBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUpKVxuICAgIHB1YmxpYyBkcm9wZG93bjogQW5ndWxhckRyb3Bkb3duRGlyZWN0aXZlLFxuICAgIHByaXZhdGUgem9uZTogTmdab25lLFxuICAgIEBJbmplY3QoRE9DVU1FTlQpIGRvY3VtZW50OiBhbnlcbiAgKSB7XG4gICAgdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5kcm9wZG93bi5vbk9wZW5cbiAgICAgIC5waXBlKHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSlcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4gKHRoaXMuc2hvdWxkT3BlbiA9IHRydWUpKTtcblxuICAgIHRoaXMuZHJvcGRvd24ub25DbG9zZVxuICAgICAgLnBpcGUodGFrZVVudGlsKHRoaXMuZGVzdHJveSQpKVxuICAgICAgLnN1YnNjcmliZSgoKSA9PiB0aGlzLmNsb3NlKCkpO1xuICB9XG5cbiAgc2V0IGFuaW1hdGlvbkNsYXNzKGNsYXNzTmFtZTogc3RyaW5nIHwgbnVsbCkge1xuICAgIGlmICh0aGlzLl9hbmltYXRpb25DbGFzcyAmJiBjbGFzc05hbWUgIT09IHRoaXMuX2FuaW1hdGlvbkNsYXNzKSB7XG4gICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2FuaW1hdGlvbkNsYXNzKTtcbiAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgdGhpcy5kcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIH1cbiAgICB0aGlzLl9hbmltYXRpb25DbGFzcyA9IGNsYXNzTmFtZTtcbiAgfVxuXG4gIGdldCBhbmltYXRpb25DbGFzcygpOiBzdHJpbmcgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5fYW5pbWF0aW9uQ2xhc3M7XG4gIH1cblxuICBnZXQgdHJpZ2dlckVsZW1lbnQoKTogRWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuZHJvcGRvd24udHJpZ2dlckVsZW1lbnQ7XG4gIH1cblxuICBuZ0FmdGVyVmlld0NoZWNrZWQoKSB7XG4gICAgaWYgKHRoaXMuc2hvdWxkT3Blbikge1xuICAgICAgdGhpcy5hbmltYXRpb25DbGFzcyA9IHRoaXMudHJhbnNpdGlvbmluZ0luQ2xhc3M7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5vcGVuKCkpO1xuICAgICAgdGhpcy5zaG91bGRPcGVuID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5kZXN0cm95JC5uZXh0KCk7XG4gICAgdGhpcy50ZWFyZG93bkV2ZW50cygpO1xuICB9XG5cbiAgb3BlbigpOiB2b2lkIHtcbiAgICB0aGlzLmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5oYW5kbGVSb290TW91c2VEb3duLFxuICAgICAgdHJ1ZVxuICAgICk7XG5cbiAgICBpZiAodGhpcy5pc1RvdWNoRGV2aWNlKSB7XG4gICAgICB0aGlzLmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICB0aGlzLnRvdWNoU3RhcnRIYW5kbGVyLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgICAgdGhpcy5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICd0b3VjaGVuZCcsXG4gICAgICAgIHRoaXMuaGFuZGxlUm9vdE1vdXNlRG93bixcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgY2hhbmdlcyA9IHRoaXMuZHJvcGRvd24ucmVwb3NpdGlvbigpO1xuICAgIGlmICghdGhpcy5kcm9wZG93bi5yZW5kZXJJblBsYWNlKSB7XG4gICAgICB0aGlzLmFkZEdsb2JhbEV2ZW50cygpO1xuICAgICAgdGhpcy5zdGFydE9ic2VydmluZ0RvbU11dGF0aW9ucygpO1xuICAgIH0gZWxzZSBpZiAoY2hhbmdlcyAhPT0gbnVsbCAmJiBjaGFuZ2VzLnZQb3NpdGlvbiA9PT0gJ2Fib3ZlJykge1xuICAgICAgdGhpcy5zdGFydE9ic2VydmluZ0RvbU11dGF0aW9ucygpO1xuICAgIH1cblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmFuaW1hdGVJbigpKTtcbiAgfVxuXG4gIGNsb3NlKCk6IHZvaWQge1xuICAgIHRoaXMudGVhcmRvd25FdmVudHMoKTtcbiAgICB0aGlzLmFuaW1hdGVPdXQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVwb3NpdGlvbkluWm9uZSA9ICgpID0+XG4gICAgdGhpcy56b25lLnJ1bigoKSA9PiB0aGlzLmRyb3Bkb3duLnJlcG9zaXRpb24oKSk7XG5cbiAgcHJpdmF0ZSBhbmltYXRlSW4oKTogdm9pZCB7XG4gICAgd2FpdEZvckFuaW1hdGlvbih0aGlzLmRyb3Bkb3duRWxlbWVudCwgKCkgPT4ge1xuICAgICAgdGhpcy5hbmltYXRpb25DbGFzcyA9IHRoaXMudHJhbnNpdGlvbmVkSW5DbGFzcztcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYW5pbWF0ZU91dCgpOiB2b2lkIHtcbiAgICBsZXQgcGFyZW50RWxlbWVudCA9IHRoaXMuZHJvcGRvd24ucmVuZGVySW5QbGFjZVxuICAgICAgPyB0aGlzLmRyb3Bkb3duRWxlbWVudC5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50XG4gICAgICA6IHRoaXMuZHJvcGRvd25FbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IGNsb25lID0gdGhpcy5kcm9wZG93bkVsZW1lbnQuY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNsb25lLmlkID0gYCR7dGhpcy5kcm9wZG93bkVsZW1lbnQuaWR9LS1jbG9uZWA7XG4gICAgY2xvbmUuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnRyYW5zaXRpb25lZEluQ2xhc3MpO1xuICAgIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUodGhpcy50cmFuc2l0aW9uaW5nSW5DbGFzcyk7XG4gICAgY2xvbmUuY2xhc3NMaXN0LmFkZCh0aGlzLnRyYW5zaXRpb25pbmdPdXRDbGFzcyk7XG4gICAgcGFyZW50RWxlbWVudCEuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIHRoaXMuYW5pbWF0aW9uQ2xhc3MgPSB0aGlzLnRyYW5zaXRpb25pbmdJbkNsYXNzO1xuICAgIHdhaXRGb3JBbmltYXRpb24oY2xvbmUsICgpID0+IHBhcmVudEVsZW1lbnQhLnJlbW92ZUNoaWxkKGNsb25lKSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVJvb3RNb3VzZURvd24gPSAoZTogRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmhhc01vdmVkIHx8XG4gICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudC5jb250YWlucyhlLnRhcmdldCBhcyBFbGVtZW50KSB8fFxuICAgICAgKHRoaXMudHJpZ2dlckVsZW1lbnQgJiZcbiAgICAgICAgdGhpcy50cmlnZ2VyRWxlbWVudC5jb250YWlucyhlLnRhcmdldCBhcyBFbGVtZW50KSlcbiAgICApIHtcbiAgICAgIHRoaXMuaGFzTW92ZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgY2xvc2VzdERyb3Bkb3duID0gY2xvc2VzdChlLnRhcmdldCBhcyBFbGVtZW50LCAnbmctZHJvcGRvd24tY29udGVudCcpO1xuICAgIGlmIChjbG9zZXN0RHJvcGRvd24pIHtcbiAgICAgIGxldCB0cmlnZ2VyID0gdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgW2FyaWEtY29udHJvbHM9JHtjbG9zZXN0RHJvcGRvd24uZ2V0QXR0cmlidXRlKCdpZCcpfV1gXG4gICAgICApO1xuICAgICAgbGV0IHBhcmVudERyb3Bkb3duID0gY2xvc2VzdCh0cmlnZ2VyISwgJ25nLWRyb3Bkb3duLWNvbnRlbnQnKTtcbiAgICAgIGlmIChcbiAgICAgICAgcGFyZW50RHJvcGRvd24gJiZcbiAgICAgICAgcGFyZW50RHJvcGRvd24uZ2V0QXR0cmlidXRlKCdpZCcpID09PSB0aGlzLmRyb3Bkb3duLmRyb3Bkb3duSWRcbiAgICAgICkge1xuICAgICAgICB0aGlzLmhhc01vdmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRyb3Bkb3duLmNsb3NlKHRydWUpO1xuICB9O1xuXG4gIHByaXZhdGUgc3RhcnRPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTogdm9pZCB7XG4gICAgaWYgKE11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnM6IGFueSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbXV0YXRpb25zWzBdLmFkZGVkTm9kZXMubGVuZ3RoIHx8XG4gICAgICAgICAgbXV0YXRpb25zWzBdLnJlbW92ZWROb2Rlcy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5yZXBvc2l0aW9uSW5ab25lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyIS5vYnNlcnZlKHRoaXMuZHJvcGRvd25FbGVtZW50LCB7XG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdET01Ob2RlSW5zZXJ0ZWQnLFxuICAgICAgICB0aGlzLnJlcG9zaXRpb25JblpvbmUsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgdGhpcy5kcm9wZG93bkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ0RPTU5vZGVSZW1vdmVkJyxcbiAgICAgICAgdGhpcy5yZXBvc2l0aW9uSW5ab25lLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0b3BPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTogdm9pZCB7XG4gICAgaWYgKE11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIGlmICh0aGlzLm11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuZHJvcGRvd25FbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ0RPTU5vZGVJbnNlcnRlZCcsXG4gICAgICAgICAgdGhpcy5yZXBvc2l0aW9uSW5ab25lXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ0RPTU5vZGVSZW1vdmVkJyxcbiAgICAgICAgICB0aGlzLnJlcG9zaXRpb25JblpvbmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFkZEdsb2JhbEV2ZW50cygpOiB2b2lkIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5yZXBvc2l0aW9uSW5ab25lKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXBvc2l0aW9uSW5ab25lKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLnJlcG9zaXRpb25JblpvbmUpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVHbG9iYWxFdmVudHMoKTogdm9pZCB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucmVwb3NpdGlvbkluWm9uZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVwb3NpdGlvbkluWm9uZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5yZXBvc2l0aW9uSW5ab25lKTtcbiAgfVxuXG4gIHByaXZhdGUgdG91Y2hTdGFydEhhbmRsZXIgPSAoZTogRXZlbnQpID0+IHtcbiAgICB0aGlzLmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICd0b3VjaG1vdmUnLFxuICAgICAgdGhpcy50b3VjaE1vdmVIYW5kbGVyLFxuICAgICAgdHJ1ZVxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSB0b3VjaE1vdmVIYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgdGhpcy5oYXNNb3ZlZCA9IHRydWU7XG4gICAgdGhpcy5kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAndG91Y2htb3ZlJyxcbiAgICAgIHRoaXMudG91Y2hNb3ZlSGFuZGxlcixcbiAgICAgIHRydWVcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgdGVhcmRvd25FdmVudHMoKSB7XG4gICAgdGhpcy5yZW1vdmVHbG9iYWxFdmVudHMoKTtcbiAgICB0aGlzLnN0b3BPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTtcbiAgICB0aGlzLmRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5oYW5kbGVSb290TW91c2VEb3duLFxuICAgICAgdHJ1ZVxuICAgICk7XG5cbiAgICBpZiAodGhpcy5pc1RvdWNoRGV2aWNlKSB7XG4gICAgICB0aGlzLmRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICB0aGlzLnRvdWNoU3RhcnRIYW5kbGVyLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgICAgdGhpcy5kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICd0b3VjaGVuZCcsXG4gICAgICAgIHRoaXMuaGFuZGxlUm9vdE1vdXNlRG93bixcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQgeyBOZ1dvcm1ob2xlTW9kdWxlIH0gZnJvbSAnbmctd29ybWhvbGUnO1xuXG5pbXBvcnQgeyBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24uZGlyZWN0aXZlJztcbmltcG9ydCB7IEFuZ3VsYXJEcm9wZG93bkNvbnRlbnRDb21wb25lbnQgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24tY29udGVudC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSB9IGZyb20gJy4vYW5ndWxhci1kcm9wZG93bi1jb250cm9sLmRpcmVjdGl2ZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIE5nV29ybWhvbGVNb2R1bGVdLFxuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUsXG4gICAgQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSxcbiAgICBBbmd1bGFyRHJvcGRvd25Db250ZW50Q29tcG9uZW50XG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUsXG4gICAgQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSxcbiAgICBBbmd1bGFyRHJvcGRvd25Db250ZW50Q29tcG9uZW50XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgQW5ndWxhckRyb3Bkb3duTW9kdWxlIHt9XG4iXSwibmFtZXMiOlsiY2FsY3VsYXRlUG9zaXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtJQWlDRSx5Q0FHVyxRQUFrQyxFQUNsQyxPQUFtQjtRQURuQixhQUFRLEdBQVIsUUFBUSxDQUEwQjtRQUNsQyxZQUFPLEdBQVAsT0FBTyxDQUFZO0tBQzdCOzs7OztJQWJELGlEQUFPOzs7O0lBRFAsVUFDUSxDQUFRO1FBQ2QsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBRXBCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRTtZQUMzQixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQ3hCO0tBQ0Y7O2dCQWxCRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLDJDQUEyQztvQkFDckQsSUFBSSxFQUFFO3dCQUNKLHNCQUFzQixFQUFFLE1BQU07d0JBQzlCLHNCQUFzQixFQUFFLGFBQWE7d0JBQ3JDLHNCQUFzQixFQUFFLGlCQUFpQjt3QkFDekMsNkJBQTZCLEVBQUUsTUFBTTt3QkFDckMsZ0JBQWdCLEVBQUUsaUJBQWlCO3FCQUNwQztpQkFDRjs7O2dCQVpRLHdCQUF3Qix1QkF3QjFCLElBQUksWUFDSixNQUFNLFNBQUMsVUFBVSxDQUFDLGNBQU0sT0FBQSx3QkFBd0IsR0FBQSxD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